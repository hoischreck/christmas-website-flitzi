<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/style.css" type="text/css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <title>Geschenk Nr.1</title>
</head>
<body>

    <!-- Navigation Bar -->
    
    <%- include ('partials/navTop.ejs') %>
    
    <!-- Sections  -->

<section>

    <div class="intro__container_header">
        Geschenk 1
    </div>

    <div class="container-secondary flex-column flex-xy">
        <div class="intro__container_text" id="present_3__text_container">
            <p class="intro__paragraph">
                Du nimmst dich also der Geschenkesuche an? Dann wünsche ich dir von hier an viel Spaß und Vergnügen - einen Weg zurück gibt es nicht.
                <br>
                <br>
                Deine erste Herausforderung wird es sein, ein Spiel zu spielen, dass weit über aller Berge und Täler bekannt ist.
                Ein Spiel das seit jahrtausenden gespielt wird. Es ist nicht Rommé, aber es ist <b>fast</b> identisch. 
                <br>
                Gesucht ist ein Kartenspiel, das große Ähnlichkeit mit UNO hat.
                <br>
                Was wird es wohl sein?
                <br>
                <br>
                Es wird "MauMau" gespielt und die Regeln lauten wie folgt:
                <br>
                Es wird abwechselnd gespielt. Liegt zu Beginn keine Karte, kann jede Karte abgelegt werden. Andernfalls muss eine Karte gespielt werden, bei der entweder der Rang oder der Wert mit der liegenden Karte übereinstimmt.
                Ist man nicht in der Lage eine Karte abzulegen, wird gezogen. Der Zug ist vorbei. Gewonnen hat, wer zuerst keine Karten mehr hat.
                <br>
                <u>Sonderfälle:</u> Bei einem Jack oder auch Bube genannt, darf man den zu spielenden Rang beliebig neuwählen. Wird eine 7 gelegt, dann muss der gegenüber 2 ziehen, bzw. dieser kann kontern, sodass wiederum 2 mehr gezogen werden müssen.
            </p>
        </div>
        <!-- Add input here, so that user has to enter "Mau Mau" -->
        
        
        <!-- Game of Romme -->
    </div>

    
    <!-- remove hide -->
    <div class="container-secondary flex-column flex-xy lobby__container">

        <div class="lobby__input_container">
            <label for="joinLobby"></label>
            <input class="text-input-1" type="text" placeholder="join code" name="joinLobby"> 
            <input class="btn-1" type="button" value="join lobby" onclick="joinLobby()">
        
            <p id="couldNotJoin" class="feedback-paragraph text-error hide">
                Code does not exist
            </p>
        </div>
        
        <div class="lobby__input_container">
            <label for="createLobby"></label>
            <input class="text-input-1" type="text" placeholder="create new lobby code" name="createLobby">
            <input class="btn-1" type="button" value="create lobby" onclick="createNewLobby()">
            
            <p id="addedLobby" class="feedback-paragraph text-success hide">
                Sucessfully added lobby
            </p>

            <p id="codeAlreadyExists" class="feedback-paragraph text-error hide">
                Code already exists
            </p>
        </div>

        

    </div>

    <div class="container-secondary flex-xy flex-column joined_lobby__container_main hide" style="margin-top: 2rem;">

        <input class="btn-4" type="button" value="leave lobby" onclick="leaveLobby()">

        <div class="flex-column flex-xy intro__container_text joined_lobby__container">
            <h2 class="challenge__heading">
                MauMau-Lobby (2 Spieler)
            </h2>
            <div class="joined_lobby_info__container"></div>
            <div class="joined_lobby_ready__container flex-column flex-xy">
                <input id="joined_lobby_ready__btn" class="btn-1 btn-ready" type="button" value="Bereit" onclick="toggleReady()">
                <span id="playerReady" class="challenge__status"></span>
            </div>
        </div>
    </div>
    
    <div class="game__container-secondary flex-column flex-xy hide">
        <!-- add hide -->
        <div class="game__container ">
            
            <div class="game__container_main flex-row flex-xy">
                <div id="enemy_turn" class="game__player_info game__turn_info" style="margin-left: 3rem;">
                    Am Zug
                </div>
                <div class="game__container_enemy">
        
                    <!-- <div class="cards_container">
                                    <div class="card"></div>
                                </div> -->
                </div>
                <div id="enemy_name" class="game__player_info game__player_info_enemy">
                    Gegnername
                </div>
            </div>
        
            <div class="game__container_field">

                <div class="flex-row flex-xy">
                    <div id="game__field_info_left" class="game__field_info flex-column flex-xy invisible">
                        <input class="btn-select-type" type="button" value="Pik" onclick="selectRank(this)">
                        <input class="btn-select-type" type="button" value="Herz" onclick="selectRank(this)">
                        <input class="btn-select-type" type="button" value="Karo" onclick="selectRank(this)">
                        <input class="btn-select-type" type="button" value="Kreuz" onclick="selectRank(this)">
                    </div>

                    <div class="game__upper_card_container">
                    
                    </div>
                    <div class="game__deck_card_container">
                    
                    </div>

                    <div id="remaining_cards" class="game__field_info" style="margin-left: 3rem;">
                        10
                    </div>
                </div>

            </div>
        
            <div class="game__container_main flex-row flex-xy">
                <div id="player_turn" class="game__player_info game__turn_info" style="margin-left: 3rem;">
                    Am Zug
                </div>
                <div class="game__container_player">
        
                    <!-- <div class="cards_container">
                                    <div class="card"></div>
                                </div> -->
                </div>
                <div id="rank_override" class="game__player_info game__player_info_enemy" style="margin-right: 3rem; background-color: var(--success-green);">
                    
                </div>
            </div>
        
        </div>
    </div>
   
    <!-- <h2>Spielersuche</h2> -->

    <!-- <div class="container-secondary flex-xy flex-column player_search__container">

    </div> -->

    <div id="terminatedConnection" class="container-secondary flex-column flex-xy hide" style="margin-top: 2rem;">

        <div class="intro__container_text no-margin" style="margin: 0;">
            <p id="error_paragraph" class="intro__paragraph">
                <b><u>ERROR!</u></b>
                <br>
                <b>An Error occured</b>
            </p>
        </div>

    </div>

    <div class="container-secondary counter_container flex-xy">
        <div class="intro__container_text counter_inner">
            Siege gesamt: 
        </div>
    </div>

    <div class="present_reveal__container hide" style="margin-top: 1.5rem;";>
        <p class="present_reveal__paragraph">
            Du hast es tatsächlich geschafft!
            <br>
            Dafür sollst du belohnt werden. Wir haben nun etbaliert, dass du auf jeden Fall viel Gefallen an Spielen findest, die man in Gesellschaft spielt.
            <br>
            Daher bekommst du als erstes ein Spiel von mir geschenkt, indem man tiefgründige über einander Fragen beantworten. Dennoch muss ich dich zunächst enttäuschen.
            Das heißt: genauere Details wirst du später erhalten.
            <br>
            <br>
            Hier geht es jetzt auch direkt weiter zum nächsten Geschenk.
        </p>

        <div class="flex-row flex-xy present_code__container">
            <div class="intro__container_text present_code__text_container">
                <p class="intro__paragraph">
                    <b>Der zweite Code lautet:</b>
                </p>
                <div class="present_code__code_container">
                    <%= user.info.presentCodes[2] %>
                </div>
            </div>
            <div class="present_btn__container">
                <a href="/gift2" class="present_btn__anchor">
                    <div class="present_btn__anchor_container flex-xy">
                        <img class="image-fill" src="/img/present.png" alt="Geschenk 2">
                        <div class="present_btn__overlap">Geschenk Nr. 2</div>
                    </div>
                </a>
            </div>
        </div>


    </div>


<script>
    // add server side commands to overview lobbies, etc
    // kick from lobby when connecting with new client
    const playerSearchContainerClass = "player_search__container";
    const playerDivClass = "player_search_player__container";

    const presentRevealClass = "present_reveal__container";
    const hideCssClass = "hide";
    const animationCssClass = "present_reveal-animation";

    const maxPlayerCount = 2;

    const socket = new WebSocket("ws://" + window.location.href.split("//")[1]);

    const user = JSON.parse('<%- JSON.stringify(user) %>');
    var lobbyCode;

    window.addEventListener("unload", function () {
        if (socket.readyState == WebSocket.OPEN) {  
            if (!(lobbyCode == undefined)) {
                leaveLobby();
            };
            socket.send(JSON.stringify({
                type: "closeConnection",
                name: user.name
            }))
        }   //socket.close(); //connection is closed by server
    });

    socket.addEventListener("open", (event) => {
        socket.send(JSON.stringify({
                type: "newUser",
                presentNum: 1,
                userName: user.name,
                date: Date.now()
            }));
    
        socket.send(JSON.stringify({
                type: "joinMauMauPlayerSearch",
            }));

        socket.send(JSON.stringify({
            type: "updateWinCounter",
            playerName: user.name
        }))
    })


    socket.addEventListener("close", (event) => {
        displayTerminatedConnection("Only 1 continuous connection allowed");
        let lobby = $(".lobby__container");
        lobby.addClass("hide");
    })
    // allow leaving a lobby with a button click

    // Lobby-handling
    socket.addEventListener("message", (event) => {
        let data = JSON.parse(event.data);
        console.log(data)
        switch (data.type) {
            // case "terminatingConnection":
            //     console.log("termination");
            //     displayFeedback(data.reason);
            //     break;
            case "setWinCounter":
                setWinCounter(data.wins);
                break;

            case "addedLobby":
                displaySuccessfullyAddedLobby();
                break;
            case "codeAlreadyExists":
                displayCodeAlreadyExists();
                break;
            case "couldNotJoin":
                displayCouldNotJoin();
                break;

            case "leftLobby":
                displayLeavingLobby();
                // implement logic for leaving a lobby
                break;

            case "playerDisconnected":
                displayEnemyDisconnect(data.disconnectedPlayer);
                break;

            case "updateLobby":
                console.log("update call")
                lobbyCode = data.code;
                displayJoinedLobby(
                    lobbyCode = lobbyCode,
                    playerList = data.players,
                    lobbySize = data.lobbySize,
                    readyCount = data.readyCount
                );
                break;

            // todo: outsource into extra handler
            case "gameStart":
                displayGameStart();
                break;

            case "updateCardView":
                // init basic values
                myTurn = false;
                newRank = null;
                forceDraw = false;
                currentUpperCard = data.upperCard;
                myCards = data.playerCards;
                clearAllCards();
                displayPlayerCards(data.playerCards);
                displayField(data.remainingInDeck, data.upperCard);
                // since 1v1 -> only 1 enemy
                displayEnemyCards(Object.values(data.enemyCardAmount)[0]);
                if (data.rankOverride !== null) {
                    newRank = data.rankOverride;
                    displayRankOverride(data.rankOverride);
                } else {
                    displayNoRankOverride();
                }
                if (data.forceDraw && data.drawsLeft > 0) {
                    startedDrawing = data.startedDrawing;
                    displayForceDraw(data.drawsLeft);
                } else {
                    if (data.rankOverride === null) displayNoForceDraw();
                }

                $("#remaining_cards").html(data.remainingInDeck);
                $("#enemy_name").html(Object.keys(data.enemyCardAmount)[0]);

                break;

            case "playerTurn":
                drawsLeft = data.drawsLeft;
                myTurn = true;
                overrideRank = false;
                if (data.additional == "chooseNewRank") {
                    displayRankSelection();
                    overrideRank = true;
                } else if (data.additional == "forceDraw") {
                    forceDraw = true;
                }
                displayPlayerTurn();
                break;

            case "gameWon":
                displayGameStop();
                displayFeedback("<span style='color: var(--success-green); font-size: 2rem;'><b>Du hast gewonnen :) !</b></span>", 10000);
                socket.send(JSON.stringify({
                    type: "updateWinCounter",
                    playerName: user.name
                }))
                break;

            case "gameLost":
                displayGameStop();
                displayFeedback("<span style='color: var(--error-red); font-size: 2rem;'><b>Du hast verloren :/ !</b></span>", 10000);
                break;

            case "unlockPresent":
                var presentElement = document.querySelector("." + presentRevealClass);
                if (!presentElement.classList.contains(hideCssClass)) {
                    return;
                }

                presentElement.classList.remove(hideCssClass);
                presentElement.classList.add(animationCssClass);

                setTimeout(() => {
                    presentElement.classList.remove(animationCssClass);
                }, 500)
                break;
        }
    })

    var myTurn;
    var myCards;
    var currentUpperCard;
    var drawsLeft;
    var overrideRank;
    var newRank;
    var forceDraw;
    var startedDrawing;

    function displayForceDraw(cardAmount) {
        let info = $("#rank_override");
        info.removeClass("invisible");
        info.html("Ziehe: " + cardAmount);
    }

    var displayNoForceDraw = displayNoRankOverride;

    function displayRankOverride(newRank) {
        console.log("trying to visualize new rank")
        let rank;
        for (let r in rankTable) {
            if (rankTable[r] == newRank) {
                rank = r;
                break;
            }   
        }
        console.log("neuer Rang: " + rank);
        let info = $("#rank_override");
        info.removeClass("invisible");
        info.html("Neuer Rang: " + rank);
    }

    function displayNoRankOverride() {
        let info = $("#rank_override");
        info.addClass("invisible");
    }

    function displayRankSelection() {
        let leftFieldInfo = $("#game__field_info_left");
        leftFieldInfo.removeClass("invisible");
        
    }

    function displayRemoveRankSelection() {
        let leftFieldInfo = $("#game__field_info_left");
        leftFieldInfo.addClass("invisible");
    }

    const rankTable = {
        Pik: "spades",
        Karo: "diamonds",
        Herz: "hearts",
        Kreuz: "clubs"
    }

    function selectRank(element) {
        if (!overrideRank) return;
        let selectedRank = element.value;
        socket.send(JSON.stringify({
            type: "rankOverride",
            playerName: user.name,
            newCardRank: rankTable[selectedRank]
        }))
        displayRemoveRankSelection();
        displayEnemyTurn();
    }


    function displayPlayerTurn() {
        let enemy = $("#enemy_turn");
        let player = $("#player_turn");
        enemy.addClass("game__turn-inactive");
        enemy.html("Nicht am Zug")
        player.removeClass("game__turn-inactive");
        player.html("Am Zug");
    }

    function displayEnemyTurn() {
        let enemy = $("#enemy_turn");
        let player = $("#player_turn");
        enemy.removeClass("game__turn-inactive");
        enemy.html("Am Zug")
        player.addClass("game__turn-inactive");
        player.html("Nicht am Zug");
    }

    function displayEnemyDisconnect() {
        displayGameStop();
        displayLeavingLobby();
        displayFeedback("<b>Player 2 disconnected</b>");
        setTimeout(() => {
            displayNoFeedback();
        }, 10000)
    }

    function onCardClick(event) {
        if (!myTurn) return;
        if (overrideRank) return;
        if (startedDrawing) return;
        let cardElement = event.target;
        let path = cardElement.getAttribute("href");
        let card;
        for (let c in myCards) {
            if (myCards[c].path == path) {
                card = myCards[c];
                break;
            }
        }
        if (card === undefined) return;
        console.log("found card")
        // let value = path.split("_").at(-1).split(".")[0];
        // let rank = path.split("/").at(-1).split("_")[0];

        // basice maumau ruleset
        if (currentUpperCard !== null) {
            if (newRank !== null) {
                if (newRank !== card.rank && card.value !=  "jack") return;
            } else if (forceDraw) {
                if (card.value != "7") return;
            } 
            else {
                if (card.value != currentUpperCard.value && card.rank != currentUpperCard.rank) return;
            }       
        }
        // card can be placed
        socket.send(JSON.stringify({
            type: "playCard",
            playerName: user.name,
            playedCard: card,
            upperCard: currentUpperCard
        }))
        myTurn = false;
        displayEnemyTurn();
    }

    function onCardDraw() {
        if (!myTurn) return;
        if (overrideRank) return;
        socket.send(JSON.stringify({
            type: "drawCard",
            playerName: user.name
        }))
        myTurn = false; // is checked on server side again
        if (drawsLeft < 2) {
            displayEnemyTurn();
        }
    }

    function displayGameStart() {
        let lobby = $(".joined_lobby__container_main");
        lobby.addClass("hide");
        let game = $(".game__container-secondary");
        game.removeClass("hide");

        displayEnemyTurn();
    }

    function displayGameStop() {
        let game = $(".game__container-secondary");
        let lobby = $(".joined_lobby__container_main");
        lobby.removeClass("hide");
        game.addClass("hide");
    }

    // displayPlayerCards([{ path: "/img/cards/blue.png" }, { path: "/img/cards/blue.png" }]);

    const cardWidth = parseInt(window.getComputedStyle(document.body).getPropertyValue("--card-width").replace("px", ""));

    //todo: delete this
    displayEnemyCards(7);
    displayPlayerCards([{ path: "/img/cards/blue.png" }, { path: "/img/cards/blue.png" }, { path: "/img/cards/blue.png" }, { path: "/img/cards/blue.png" }, { path: "/img/cards/blue.png" }, { path: "/img/cards/blue.png" }, { path: "/img/cards/blue.png" }, { path: "/img/cards/blue.png" }, { path: "/img/cards/blue.png" }, { path: "/img/cards/blue.png" }])
    displayField(5, { path: "/img/cards/blue.png" });

    
    function clearAllCards() {
        $(".game__container_player").empty();
        $(".game__container_enemy").empty();
        $(".game__deck_card_container").empty();
        $(".game__upper_card_container").empty();
    }

    function displayField(remaining, upperCard=null) {

        // display deck card (background image is implicitly backside of card)
        if (remaining > 0) {
            let newCardContainer = document.createElement("div");
            newCardContainer.classList.add("cards_container_main")
            let newCard = document.createElement("div");
            newCard.classList.add("card");
            newCard.classList.add("card_deck");
            newCard.onclick = onCardDraw;
            newCardContainer.appendChild(newCard);
            $(".game__deck_card_container").append(newCardContainer);
        }
        // check if upper card exists
        if (upperCard !== null) {
            let newCardContainer = document.createElement("div");
            newCardContainer.classList.add("cards_container_main")
            let newCard = document.createElement("div");
            newCard.classList.add("card");
            newCard.style.backgroundImage = `url(${upperCard.path})`;
            newCardContainer.appendChild(newCard);

            $(".game__upper_card_container").append(newCardContainer);
        }
    }

    function displayPlayerCards(cards) {
        let k = 400;
        let cardAmount = cards.length;
        let totalCardWidth = cardAmount * cardWidth;
        let freeSpace = $(".game__container_player").width() - k;

        let overlappingSpace;
        if (totalCardWidth > freeSpace) {
            overlappingSpace = Math.floor((totalCardWidth-freeSpace)/cardAmount);
        }
        for (let c in cards) {
            let path = cards[c].path;

            let newCardContainer = document.createElement("div");
            newCardContainer.classList.add("cards_container_main")
            let newCard = document.createElement("div");
            newCard.classList.add("card");
            newCard.classList.add("card-raise");
            newCard.setAttribute("href", path)
            newCard.onclick = onCardClick;
            newCard.style.backgroundImage = `url(${path})`;
            newCardContainer.appendChild(newCard);

            if (overlappingSpace !== undefined) {
                newCardContainer.style.marginLeft = `${-overlappingSpace}px`;
            }

            $(".game__container_player").append(newCardContainer);
        }
        if (overlappingSpace !== undefined) {
            $(".game__container_player").css("margin-left", `${overlappingSpace}px`);
        }
    }

    function displayEnemyCards(cardAmount) {
        let k = 400;
        let totalCardWidth = cardAmount * cardWidth;
        let freeSpace = $(".game__container_enemy").width() - k;

        let overlappingSpace;
        if (totalCardWidth > freeSpace) {
            overlappingSpace = Math.floor((totalCardWidth - freeSpace) / cardAmount);
            console.log(overlappingSpace);
        }
        for (let i = 0; i < cardAmount; i++) {

            let newCardContainer = document.createElement("div");
            newCardContainer.classList.add("cards_container_main")
            let newCard = document.createElement("div");
            newCard.classList.add("card");
            newCardContainer.appendChild(newCard);

            if (overlappingSpace !== undefined) {
                newCardContainer.style.marginLeft = `${-overlappingSpace}px`;
            }

            $(".game__container_enemy").append(newCardContainer);
        }
        if (overlappingSpace !== undefined) {
            $(".game__container_enemy").css("margin-left", `${overlappingSpace}px`);
        }
    }


    //todo: unnecessary? 
    // function setupRoutine() {
    //     checkIfInLobby();
    // }

    // function checkIfInLobby() {
        
    // }

    function displayTerminatedConnection(reason) {
        displayLeavingLobby();
        displayFeedback(`<b><u>Error!</u></b><br><b>${reason}</b>`);

    }

    function displayFeedback(feedbackHTML, time=null) {
        let errorContainer = $("#terminatedConnection");
        errorContainer.removeClass("hide");
        $("#error_paragraph").html(feedbackHTML);
        if (time !== null) {
            setTimeout(() => {
                displayNoFeedback();
            }, time)   
        }
    }

    function displayNoFeedback() {
        let errorContainer = $("#terminatedConnection");
        errorContainer.addClass("hide");
    }

    // create new lobby
    function createNewLobby() {
        let code = $("input[name='createLobby']").val(); //.replace(" ", "-")
        if (!validCode(code)) {
            return; // return some sort of error feedback
        }
        socket.send(JSON.stringify({
            type: "newLobby",
            code: code,
            maxPlayers: maxPlayerCount
        }));
    }

    // e.g. dont allow empty codes 
    function validCode(code) {
        return true;
    }

    // join lobby
    function joinLobby() {
        let code = $("input[name='joinLobby']").val();
        socket.send(JSON.stringify({
            type: "joinLobby",
            playerName: user.name,
            lobbyCode: code
        }))
    }

    function displayJoinedLobby(lobbyCode, playerList, lobbySize, readyCount) {
        let lobby = $(".lobby__container");
        lobby.addClass("hide");
        let joinedLobby = $(".joined_lobby__container_main");
        joinedLobby.removeClass("hide");
        
        $(".joined_lobby_info__container").html(
            `
            <b>Code: </b>${lobbyCode}
            <br>
            <b>Spieler: </b>${JSON.stringify(playerList)}
            `
        )
        $("#playerReady").html(
            `
            Bereit: ${readyCount}/${lobbySize}
            `
        )

    }   

    function leaveLobby() {
        socket.send(JSON.stringify({
            type: "leaveLobby",
            lobby: lobbyCode,
            name: user.name
        }));  
    }

    function displayLeavingLobby() {
        let lobby = $(".lobby__container");
        lobby.removeClass("hide");
        
        let joinedLobby = $(".joined_lobby__container_main");
        joinedLobby.addClass("hide");
    }

    function displayCodeAlreadyExists() {
        let element1 = $("#codeAlreadyExists");
        element1.removeClass("hide");
        
        let element2 = $("#addedLobby");
        element2.addClass("hide");
        
        setTimeout(() => {
            element1.addClass("hide");
        }, 5000)
    }

    function displaySuccessfullyAddedLobby() {
        let element1 = $("#codeAlreadyExists");
        element1.addClass("hide");
        
        let element2 = $("#addedLobby");
        element2.removeClass("hide");
        
        setTimeout(() => {
            element2.addClass("hide");
        }, 5000)
    }
    
    function displayCouldNotJoin() {
        let element = $("#couldNotJoin");
        element.removeClass("hide");
        
        setTimeout(() => {
            element.addClass("hide");
        }, 5000)
    }

    function toggleReady() {
        let btn = $("#joined_lobby_ready__btn");
        let ready = btn.hasClass("btn-ready");
        if (ready) {
            // send ready
            btn.removeClass("btn-ready");
            btn.addClass("btn-notready");
            btn.attr("value", "Nicht Bereit");
            socket.send(JSON.stringify({
                type: "readyPlayer",
                name: user.name,
                lobby: lobbyCode
            }))
        } else {
            // send unready
            btn.addClass("btn-ready");
            btn.removeClass("btn-notready");
            btn.attr("value", "Bereit");
            socket.send(JSON.stringify({
                type: "unreadyPlayer",
                name: user.name,
                lobby: lobbyCode
            }))
        }
    }

    function setWinCounter(wins) {
        $(".counter_inner").html("<b>Siege insgesamt: </b>" + wins)
    }


// case "updatePlayerSearch":
// console.log(data.searchingPlayers);
// displaySearchingPlayers(data.searchingPlayers);
// break;

// function displaySearchingPlayers(playerArray) {
// for (let p in playerArray) {
// let name = playerArray[p];

// let playerBtn = document.createElement("input");
// playerBtn.classList.add(playerDivClass);
// playerBtn.value = name;
// playerBtn.type = "button";

// document.querySelector("." + playerSearchContainerClass).appendChild(playerBtn);
// }
// }
</script>
</body>
</html>

